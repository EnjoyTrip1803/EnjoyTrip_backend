<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.ssafy.trip.invitation.model.dao.InvitationDao">

	<resultMap type="Invitation" id="Invitation">
		<result column="invitation_id" property="invitationId"/>
		<result column="sender_name" property="senderName"/>
		<result column="receiver_name" property="receiverName"/>
		<result column="plan_id" property="planId"/>
	</resultMap>
	
	<!--  notification List	-->
	<select id="getInvitationByName" parameterType="String" resultMap="Invitation">
		SELECT	invitation_id, sender_name, receiver_name, plan_id
		FROM	invitation
		WHERE	receiver_name = #{name}
	</select>
	
	<!--  create invitation	-->
	<insert id="createInvitation" parameterType="Invitation" useGeneratedKeys="true" keyProperty="invitationId">
		INSERT INTO invitation (sender_name, receiver_name, plan_id)
		values (#{senderName}, #{receiverName}, #{planId})
	</insert>

	<!--  delete invitation by invitation_id -->
	<delete id="deleteInvitation" parameterType="int">
		DELETE FROM	invitation
		WHERE		invitation_id = #{invitationId}
	</delete>

</mapper>